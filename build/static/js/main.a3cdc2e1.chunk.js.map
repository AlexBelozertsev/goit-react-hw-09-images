{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/AppBar/Header.js","components/AppBar/AppBar.js","components/Container/Container.js","components/Layout/Layout.js","components/Modal/Modal.js","components/Searchbar/SearchForm.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/pixabay-api.js","App.js","index.js"],"names":["module","exports","Header","text","AppBar","className","Container","children","Layout","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","style","Overlay","onClick","event","currentTarget","target","SearchForm","onSubmit","useState","query","setQuery","handleChange","useCallback","value","handleSubmit","preventDefault","type","button","label","input","placeholder","onChange","Searchbar","ImageGalleryItem","webformatURL","largeImageURL","src","alt","image","ImageGallery","images","map","id","Button","axios","defaults","baseURL","searchQuery","currentPage","per_page","get","then","response","data","App","setImages","setCurrentPage","total","setTotal","setSearchQuery","isLoading","setIsLoading","showModal","setShowModal","setError","setLargeImageURL","fetchImages","pixabayApi","hits","length","scrollTo","top","documentElement","scrollHeight","behavior","alert","catch","error","message","finally","toggleModal","prevShowModal","color","height","width","timeout","url","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a3cdc2e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2-h4Y\",\"Modal\":\"Modal_Modal__YULjB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__25RZj\",\"image\":\"ImageGalleryItem_image__1gIQJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__25YW7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__35pPq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3U8op\",\"SearchForm\":\"Searchbar_SearchForm__2GrEV\",\"button\":\"Searchbar_button__1nufs\",\"label\":\"Searchbar_label__3m5tr\",\"input\":\"Searchbar_input__2PdhW\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Header = ({ text }) => (\n  <div>\n    <h1>{text}</h1>\n  </div>\n);\n\nHeader.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport './AppBar.css';\nimport Header from './Header';\n\nconst AppBar = ({ text }) => (\n  <header className=\"AppBar\">\n    <Header text={text} />\n  </header>\n);\n\nexport default AppBar;\n","import React from 'react';\nimport './Container.css';\n\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\n\nexport default Container;\n","import React from 'react';\nimport AppBar from '../AppBar';\nimport Container from '../Container';\n\nconst Layout = ({ children }) => (\n  <>\n    <AppBar text=\"React Hooks. hw-09. Image Finder.\" />\n    <Container>{children}</Container>\n  </>\n);\n\nexport default Layout;\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport style from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ children, onClose }) {\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return window.removeEventListener('keydown', handleKeyDown);\n  }, [onClose]);\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={style.Overlay} onClick={handleBackdropClick}>\n      <div className={style.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import React, { useState, useCallback } from 'react';\nimport style from './Searchbar.module.css';\n\nexport default function SearchForm({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleChange = useCallback(e => {\n    setQuery(e.currentTarget.value);\n  }, []);\n\n  const handleSubmit = useCallback(\n    e => {\n      e.preventDefault();\n      onSubmit(query);\n      setQuery('');\n    },\n    [query, onSubmit],\n  );\n\n  return (\n    <form className={style.SearchForm} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={style.button}>\n        <span className={style.label}>Search</span>\n      </button>\n      <input\n        className={style.input}\n        type=\"text\"\n        placeholder=\"Search images and photos\"\n        onChange={handleChange}\n      />\n    </form>\n  );\n}\n","import React from 'react';\nimport style from './Searchbar.module.css';\nimport SearchForm from './SearchForm';\n\nconst Searchbar = ({ onSubmit }) => {\n  return (\n    <header className={style.Searchbar}>\n      <SearchForm onSubmit={onSubmit} />\n    </header>\n  );\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport style from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({\n  webformatURL,\n  largeImageURL,\n  onClick,\n}) {\n  const handleChange = () => onClick(largeImageURL);\n\n  return (\n    <div className={style.ImageGalleryItem} onClick={handleChange}>\n      <img src={webformatURL} alt={''} className={style.image} />\n    </div>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport style from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <ul className={style.ImageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL }) => (\n        <li key={id}>\n          <ImageGalleryItem\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            onClick={onClick}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport style from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={style.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\nconst PixabayKey = '19811356-e6efa31c9626364e7cdb6ab36';\n\nconst fetchPics = ({\n  searchQuery = 'wood',\n  currentPage = 1,\n  per_page = 12,\n}) => {\n  return axios\n    .get(\n      `/?key=${PixabayKey}&q=${searchQuery}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\n    )\n    .then(response => response.data);\n};\n\nexport default { fetchPics };\n","import React, { useState, useEffect, useCallback } from 'react';\nimport Loader from 'react-loader-spinner';\n\nimport Layout from './components/Layout';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport pixabayApi from './services/pixabay-api';\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [total, setTotal] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n  const [largeImageURL, setLargeImageURL] = useState('');\n\n  useEffect(() => {\n    if (searchQuery !== '') {\n      fetchImages();\n    }\n  }, [searchQuery]);\n\n  const fetchImages = () => {\n    setIsLoading(true);\n    pixabayApi\n      .fetchPics({ searchQuery, currentPage })\n      .then(data => {\n        if (!data.hits.length) {\n          alert(`Please enter more correct query`);\n          return;\n        }\n        setImages([...data.hits]);\n        setCurrentPage(currentPage + 1);\n        setTotal(data.total);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => setError(error.message))\n      .finally(() => setIsLoading(false));\n  };\n\n  const onChangeQuery = query => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n    setImages([]);\n    setTotal(null);\n    setError(null);\n  };\n\n  const onChangeUrl = url => {\n    setLargeImageURL(url);\n    toggleModal();\n  };\n\n  const toggleModal = useCallback(() => {\n    setShowModal(prevShowModal => !prevShowModal);\n  }, []);\n\n  return (\n    <Layout>\n      <Searchbar onSubmit={onChangeQuery} />\n      {isLoading && (\n        <Loader\n          type=\"Puff\"\n          color=\"#3f51b5\"\n          height={80}\n          width={80}\n          timeout={3000}\n        />\n      )}\n      <ImageGallery images={images} onClick={onChangeUrl} />\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImageURL} alt=\"\" />\n        </Modal>\n      )}\n      {images.length > 0 && images.length < total && (\n        <Button onClick={fetchImages} />\n      )}\n    </Layout>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}