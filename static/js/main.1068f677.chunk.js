(this["webpackJsonpgoit-react-hw-09-image-finder"]=this["webpackJsonpgoit-react-hw-09-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2-h4Y",Modal:"Modal_Modal__YULjB"}},11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__25RZj",image:"ImageGalleryItem_image__1gIQJ"}},23:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__25YW7"}},24:function(e,t,a){e.exports={Button:"Button_Button__35pPq"}},49:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3U8op",SearchForm:"Searchbar_SearchForm__2GrEV",button:"Searchbar_button__1nufs",label:"Searchbar_label__3m5tr",input:"Searchbar_input__2PdhW"}},51:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(7),o=a.n(r),i=a(13),l=a(4),u=a(22),s=a.n(u),b=(a(49),a(0)),j=function(e){var t=e.text;return Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:t})})},m=function(e){var t=e.text;return Object(b.jsx)("header",{className:"AppBar",children:Object(b.jsx)(j,{text:t})})},h=(a(51),function(e){var t=e.children;return Object(b.jsx)("div",{className:"Container",children:t})}),d=function(e){var t=e.children;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{text:"React Hooks. hw-09. Image Finder."}),Object(b.jsx)(h,{children:t})]})},O=a(10),f=a.n(O),g=document.querySelector("#modal-root");function x(e){var t=e.children,a=e.onClose;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),window.removeEventListener("keydown",e)}),[a]);return Object(r.createPortal)(Object(b.jsx)("div",{className:f.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(b.jsx)("div",{className:f.a.Modal,children:t})}),g)}var p=a(5),v=a.n(p);function _(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],o=c[1],i=Object(n.useCallback)((function(e){o(e.currentTarget.value)}),[]),u=Object(n.useCallback)((function(e){e.preventDefault(),t(r),o("")}),[r,t]);return Object(b.jsxs)("form",{className:v.a.SearchForm,onSubmit:u,children:[Object(b.jsx)("button",{type:"submit",className:v.a.button,children:Object(b.jsx)("span",{className:v.a.label,children:"Search"})}),Object(b.jsx)("input",{className:v.a.input,type:"text",placeholder:"Search images and photos",onChange:i})]})}var S=function(e){var t=e.onSubmit;return Object(b.jsx)("header",{className:v.a.Searchbar,children:Object(b.jsx)(_,{onSubmit:t})})},y=a(23),I=a.n(y),k=a(11),w=a.n(k);function C(e){var t=e.webformatURL,a=e.largeImageURL,n=e.onClick;return Object(b.jsx)("div",{className:w.a.ImageGalleryItem,onClick:function(){return n(a)},children:Object(b.jsx)("img",{src:t,alt:"",className:w.a.image})})}var N=function(e){var t=e.images,a=e.onClick;return Object(b.jsx)("ul",{className:I.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL;return Object(b.jsx)("li",{children:Object(b.jsx)(C,{webformatURL:n,largeImageURL:c,onClick:a})},t)}))})},L=a(24),G=a.n(L),R=function(e){var t=e.onClick;return Object(b.jsx)("button",{className:G.a.Button,type:"button",onClick:t,children:"Load more"})},U=a(12),E=a.n(U);E.a.defaults.baseURL="https://pixabay.com/api";var B=function(e){var t=e.searchQuery,a=void 0===t?"wood":t,n=e.currentPage,c=void 0===n?1:n,r=e.per_page,o=void 0===r?12:r;return E.a.get("/?key=".concat("19811356-e6efa31c9626364e7cdb6ab36","&q=").concat(a,"&page=").concat(c,"&image_type=photo&orientation=horizontal&per_page=").concat(o)).then((function(e){return e.data}))};function P(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(l.a)(r,2),u=o[0],j=o[1],m=Object(n.useState)(null),h=Object(l.a)(m,2),O=h[0],f=h[1],g=Object(n.useState)(""),p=Object(l.a)(g,2),v=p[0],_=p[1],y=Object(n.useState)(!1),I=Object(l.a)(y,2),k=I[0],w=I[1],C=Object(n.useState)(!1),L=Object(l.a)(C,2),G=L[0],U=L[1],E=Object(n.useState)(null),P=Object(l.a)(E,2),M=(P[0],P[1]),F=Object(n.useState)(""),q=Object(l.a)(F,2),J=q[0],Q=q[1];Object(n.useEffect)((function(){""!==v&&T()}),[v]);var T=function(){w(!0),B({searchQuery:v,currentPage:u}).then((function(e){e.hits.length?(c([].concat(Object(i.a)(a),Object(i.a)(e.hits))),j(u+1),f(e.total),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})):alert("Please enter more correct query")})).catch((function(e){return M(e.message)})).finally((function(){return w(!1)}))},Y=Object(n.useCallback)((function(){U((function(e){return!e}))}),[]);return Object(b.jsxs)(d,{children:[Object(b.jsx)(S,{onSubmit:function(e){_(e),j(1),c([]),f(null),M(null)}}),k&&Object(b.jsx)(s.a,{type:"Puff",color:"#3f51b5",height:80,width:80,timeout:3e3}),Object(b.jsx)(N,{images:a,onClick:function(e){Q(e),Y()}}),G&&Object(b.jsx)(x,{onClose:Y,children:Object(b.jsx)("img",{src:J,alt:""})}),a.length>0&&a.length<O&&Object(b.jsx)(R,{onClick:T})]})}a(70),a(71);o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.1068f677.chunk.js.map